package zero.util.net;

import java.io.OutputStream;
import java.io.IOException;
import java.io.PrintWriter;

import java.net.HttpURLConnection;

import java.util.Map;
import java.util.List;
import java.util.ArrayList;
import java.util.Iterator;

public class AjaxRequest extends HTTPClientRequest {
	private String json;
		
	protected AjaxRequest( HTTPClientSession session, String path ) {
		super( session, path );
		this.setMethod( HTTPClientRequest.METHOD_POST ) ;		
	}

	public String getContentType( ) {
		return "application/json; charset=UTF-8" ;
	}
	
	public void setJson( String json ) {
		this.json = json;
	}
	
	protected void writePostData( OutputStream os ) {
		// POST methods write form parameters to the output stream
		PrintWriter pw = new PrintWriter( os );
		pw.write( json );
		pw.flush();
	}

	public String toString() {
		return "AjaxRequest(url=" + this.getUrl() + ")";
	}
	
}

